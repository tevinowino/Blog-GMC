extends layout

block content
  main(class="bg-gray-50")
    div(class="container mx-auto px-4 py-8")
      //- Featured Section with Headline and Top Stories
      div(class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-12")
        //- Main Headline
        div(class="lg:col-span-2")
          div(class="bg-white rounded-xl shadow-lg overflow-hidden transition-shadow duration-300 hover:shadow-xl")
            div(class="relative h-96")
              img(src=headline.poster class="w-full h-full object-cover" alt=headline.title)
              //- Gradient overlay
              div(class="absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent")
              //- Title overlay
              div(class="absolute bottom-0 left-0 right-0 p-6 text-white")
                a(href=`/blog/${headline._id}` class="text-3xl font-bold mb-3 hover:underline block") #{headline.title}
            
            div(class="p-6")
              div(class="flex items-center mb-4")
                div(class="w-10 h-10 rounded-full overflow-hidden mr-3 bg-orange-100 flex items-center justify-center")
                  if headline.authorAvatar
                    img(src=headline.authorAvatar class="w-full h-full object-cover" alt="Author avatar")
                  else
                    span(class="text-orange-600 font-semibold text-lg")= headline.author.charAt(0).toUpperCase()
                div(class="flex flex-col")
                  div(class="font-semibold") #{headline.author}
                  div(class="text-sm text-gray-600") Featured Author
              
              p(class="text-gray-600 mb-4") #{headline.content.substring(0, 200)}...
              
              div(class="flex items-center text-sm text-gray-600")
                span(class="inline-flex items-center mr-4 bg-orange-50 px-3 py-1 rounded-full")
                  span(class="mr-2") 🏅
                  span(class="text-orange-600 font-medium") Sports
                span(class="flex items-center")
                  svg(xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor")
                    path(fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd")
                  span #{headline.date.toLocaleDateString()}

        //- Top Stories Sidebar
        div(class="space-y-4")
          h2(class="text-xl border-b-2 border-orange-500 font-bold mb-4 text-gray-900") Top Stories
          each blog, index in blogs
            if index > 1 && index <= 4 
              div(class="bg-white rounded-xl shadow-lg hover:shadow-xl p-6 transition-shadow duration-300")
                a(href=`/blog/${blog._id}` class="group")
                  h3(class="font-bold mb-2 text-lg group-hover:text-orange-600 transition-colors duration-200") #{blog.title}
                  p(class="text-gray-600 mb-3 text-sm") #{blog.content.substring(0, 100)}...
                  div(class="flex items-center text-sm text-gray-600")
                    span(class="inline-flex items-center mr-4 bg-orange-50 px-2 py-1 rounded-full")
                      span(class="mr-1") 🏅
                      span(class="text-orange-600 font-medium") Sports
                    span(class="flex items-center")
                      svg(xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor")
                        path(fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd")
                      span #{blog.date.toLocaleDateString()}

      //- Latest Articles Grid
      div
        h2(class="text-2xl font-bold border-b-2 border-orange-500 mb-6 text-gray-900") Latest Articles
        div(class="grid grid-cols-1 lg:grid-cols-2 gap-6")
          each blog in blogs
            div(class="bg-white rounded-xl shadow-lg hover:shadow-xl overflow-hidden transition-shadow duration-300")
              div(class="flex flex-col md:flex-row")
                div(class="md:w-1/3 relative")
                  img(src=blog.poster class="w-full h-48 md:h-full object-cover" alt=blog.title)
                  div(class="absolute top-0 right-0 m-2")
                    span(class="inline-flex items-center bg-orange-50 px-2 py-1 rounded-full text-sm")
                      span(class="mr-1") 🏅
                      span(class="text-orange-600 font-medium") Sports
                
                div(class="p-6 md:w-2/3")
                  a(href=`/blog/${blog._id}` class="group")
                    h3(class="font-bold text-xl mb-3 group-hover:text-orange-600 transition-colors duration-200") #{blog.title}
                    p(class="text-gray-600 mb-4 text-sm line-clamp-3") #{blog.content.substring(0, 150)}...
                    
                    div(class="flex items-center justify-between")
                      div(class="flex items-center")
                        div(class="w-8 h-8 rounded-full overflow-hidden mr-2 bg-orange-100 flex items-center justify-center")
                          if blog.authorAvatar
                            img(src=blog.authorAvatar class="w-full h-full object-cover" alt="Author avatar")
                          else
                            span(class="text-orange-600 font-semibold")= blog.author.charAt(0).toUpperCase()
                        span(class="text-sm text-gray-600") #{blog.author}
                      
                      span(class="flex items-center text-sm text-gray-600")
                        svg(xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor")
                          path(fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd")
                        span #{blog.date.toLocaleDateString()}